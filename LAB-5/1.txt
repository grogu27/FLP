% Предикат для вывода всех нечётных чисел из диапазона в порядке убывания

odd_numbers_desc :-
    writeln('Введите начальное значение диапазона: '),
    read(Start),
    writeln('Введите конечное значение диапазона: '),
    read(End),
    (Start >= End -> print_odd_desc(Start, End) ; print_odd_desc(End, Start)).

% Печатает нечётные числа от Start до End (в убывающем порядке)
print_odd_desc(Start, End) :-
    (Start < End -> true ;               % Завершает рекурсию, если Start < End
     (Start mod 2 =:= 1 -> writeln(Start) ; true), % Печать числа, если нечётное
     Next is Start - 1,
     print_odd_desc(Next, End)).         % Рекурсивный вызов

?- odd_numbers_desc.


% >>>>>>>>>>> этот же код но с комментариями <<<<<<<<<<<<<<<


% Главный предикат для запуска программы.
% Сначала запрашивает начальное и конечное значения диапазона.
% Затем вызывает print_odd_desc для печати нечётных чисел в убывающем порядке.
odd_numbers_desc :-
    writeln('Введите начальное значение диапазона: '), % Запрос начального значения
    read(Start),
    writeln('Введите конечное значение диапазона: '),   % Запрос конечного значения
    read(End),
    % Если Start >= End, начинаем печать от Start к End
    % Если наоборот (Start < End), меняем их местами для убывающего порядка
    (Start >= End -> print_odd_desc(Start, End) ; print_odd_desc(End, Start)).

% Рекурсивный предикат для печати нечётных чисел от Start до End в убывающем порядке.
print_odd_desc(Start, End) :-
    (Start < End -> true ;                % Условие завершения рекурсии:
                                          % Если Start < End, завершаем выполнение.
     (Start mod 2 =:= 1 -> writeln(Start) ; true), % Печать Start, если нечётное, иначе ничего не делаем
     Next is Start - 1,                   % Уменьшаем Start на 1, чтобы двигаться к End
     print_odd_desc(Next, End)            % Рекурсивный вызов для следующего значения
    ).

% Пример выполнения:
?- odd_numbers_desc.
% Программа запросит начальное и конечное значения и выведет нечётные числа
% в убывающем порядке от большего к меньшему.
